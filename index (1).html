<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProPath â€” Football Career Simulator</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="pitch-bg"></div>
<div id="app">

<!-- â•â•â•â• SCREEN 0: SPLASH â•â•â•â• -->
<div class="screen active" id="screen-0">
  <div class="logo"><div class="logo-wordmark">ProPath</div><div class="logo-sub">Football Career Simulator Â· v3</div></div>
  <div class="card" style="max-width:520px;margin:0 auto;">
    <div class="start-hero">
      <div class="pitch-ring"><span class="ball-icon">âš½</span></div>
      <h2>Your Journey Begins</h2>
      <p class="lead" style="margin-bottom:0;">From youth academy to legend. Every decision shapes your legacy.</p>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:28px;flex-wrap:wrap;">
        <button class="btn btn-primary" style="font-size:15px;padding:14px 36px;" onclick="App.goTo(1)">âš½ New Career</button>
        <button class="btn btn-gold" style="font-size:15px;padding:14px 24px;" onclick="App.loadGame()">ğŸ’¾ Load Save</button>
      </div>
      <div style="margin-top:14px;"><button class="btn btn-ghost" onclick="App.goTo(6)">ğŸ† Hall of Fame</button></div>
    </div>
  </div>
</div>

<!-- â•â•â•â• SCREEN 1: CREATION â•â•â•â• -->
<div class="screen" id="screen-1">
  <div class="steps-bar" id="steps-bar"></div>
  <div class="card"><div id="creation-content"></div></div>
</div>

<!-- â•â•â•â• SCREEN 5: DASHBOARD â•â•â•â• -->
<div class="screen" id="screen-5">
  <!-- Topbar -->
  <div class="dash-topbar">
    <div>
      <div class="dash-greeting" id="dashGreeting"></div>
      <div class="dash-subtitle" id="dashSubtitle"></div>
    </div>
    <div class="topbar-right">
      <div class="season-badge" id="seasonBadge"></div>
      <div class="wallet-chip" id="walletChip"></div>
      <button class="btn btn-ghost" onclick="App.saveGame()" title="Save game">ğŸ’¾</button>
      <button class="btn btn-ghost" onclick="App.confirmNewCareer()" title="New career">â†©</button>
    </div>
  </div>

  <!-- Player card -->
  <div id="dashPlayerCard"></div>

  <!-- Progress + pills -->
  <div id="seasonProgress"></div>
  <div class="stats-pill-row" id="seasonStatPills"></div>

  <!-- Free agent banner -->
  <div id="freeAgentBanner" style="display:none;" class="free-agent-banner">
    <div style="font-size:36px;margin-bottom:8px;">ğŸ”“</div>
    <div style="font-size:18px;font-weight:700;color:var(--red);margin-bottom:6px;">Free Agent</div>
    <div style="font-size:12px;color:var(--text-dim);margin-bottom:14px;">You're without a club. Sign anywhere â€” no transfer window restrictions.</div>
    <button class="btn btn-primary" onclick="App.showFreeAgentOffers()">View Club Offers â†’</button>
  </div>

  <!-- Tab nav -->
  <div class="tab-nav">
    <button class="tab-btn active" data-tab="overview" onclick="App.switchTab('overview')">ğŸ“Š Overview</button>
    <button class="tab-btn" data-tab="league" onclick="App.switchTab('league')">ğŸ† League</button>
    <button class="tab-btn" data-tab="cups" onclick="App.switchTab('cups')">ğŸ¥‡ Cups</button>
    <button class="tab-btn" data-tab="transfers" onclick="App.switchTab('transfers')">ğŸ“¬ Offers</button>
    <button class="tab-btn" data-tab="manager" onclick="App.switchTab('manager')">ğŸ§‘â€ğŸ’¼ Manager</button>
    <button class="tab-btn" data-tab="training" onclick="App.switchTab('training')">ğŸ’ª Train & Invest</button>
    <button class="tab-btn" data-tab="career" onclick="App.switchTab('career')">ğŸ“‹ Career</button>
    <button class="tab-btn" data-tab="casino" onclick="App.switchTab('casino')">ğŸ° Casino</button>
  </div>

  <!-- â”€â”€ OVERVIEW TAB â”€â”€ -->
  <div class="tab-pane active" id="tab-overview">
    <div style="display:grid;grid-template-columns:1fr 290px;gap:14px;align-items:start;">
      <div>
        <!-- Day control -->
        <div class="card" style="margin-bottom:14px;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:10px;">
            <div>
              <div class="section-label">Today</div>
              <div style="font-family:'Bebas Neue',sans-serif;font-size:24px;letter-spacing:2px;" id="currentDayLabel">â€”</div>
            </div>
            <div style="display:flex;gap:6px;flex-wrap:wrap;">
              <button class="btn btn-primary" id="advanceBtn" onclick="App.advanceDay()">â–¶ Next Day</button>
              <button class="btn btn-secondary" id="skipWeekBtn" onclick="App.skipWeek()">â© Week</button>
              <button class="btn btn-ghost" id="skipMonthBtn" onclick="App.skipMonth()">â­ Month</button>
            </div>
          </div>
          <div id="nextFixturePanel" style="margin-bottom:12px;"></div>
  <div id="lastDayEvents" class="day-events">
            <div class="empty-state">âš½<br><br>Click <strong>Next Day</strong> to start your career.</div>
          </div>
        </div>
        <!-- Log -->
        <div class="card">
          <div class="section-label">Activity Log</div>
          <div class="log-history" id="recentLog"></div>
        </div>
      </div>
      <!-- Right column -->
      <div>
        <div class="card" style="margin-bottom:14px;">
          <div class="section-label">Attributes</div>
          <div class="attr-grid" id="dashAttrs"></div>
          <div style="margin-top:14px;">
            <div class="section-label">Form (last 5)</div>
            <div style="display:flex;gap:4px;" id="formDots"></div>
          </div>
          <div style="margin-top:14px;">
            <div class="section-label">Potential</div>
            <div style="font-family:'Bebas Neue',sans-serif;font-size:28px;color:var(--gold);" id="potDisplay"></div>
          </div>
        </div>
        <div class="card">
          <div class="section-label">Career Timeline</div>
          <ul class="career-timeline" id="careerLog"></ul>
        </div>
      </div>
    </div>
  </div>

  <!-- â”€â”€ LEAGUE TAB â”€â”€ -->
  <div class="tab-pane" id="tab-league">
    <div class="card">
      <div class="flex-between" style="margin-bottom:12px;">
        <div><div class="section-label">League Table</div><h3 id="leagueName">â€”</h3></div>
        <div id="leagueQualInfo" style="font-size:11px;color:var(--text-dim);text-align:right;max-width:200px;"></div>
      </div>
      <div style="overflow-x:auto;">
        <table class="league-table" id="leagueTable"><thead></thead><tbody></tbody></table>
      </div>
    </div>
  </div>

  <!-- â”€â”€ CUPS TAB â”€â”€ -->
  <div class="tab-pane" id="tab-cups">
    <div class="section-label">Cup Competitions</div>
    <div class="comp-list" id="cupsList"></div>
  </div>

  <!-- â”€â”€ TRANSFERS TAB â”€â”€ -->
  <div class="tab-pane" id="tab-transfers">
    <div class="card">
      <div class="section-label">Transfer Offers</div>
      <p class="lead">Clubs interested in signing you will appear here. Offers expire after 30 days. Accepting one cancels all others.</p>
      <div id="transfersContent"></div>
    </div>
  </div>

  <!-- â”€â”€ MANAGER TAB â”€â”€ -->
  <div class="tab-pane" id="tab-manager">
    <div id="managerContent"></div>
  </div>

  <!-- â”€â”€ TRAINING & INVEST TAB â”€â”€ -->
  <div class="tab-pane" id="tab-training">
    <div style="display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:rgba(245,200,66,.06);border:1px solid rgba(245,200,66,.2);border-radius:10px;margin-bottom:16px;">
      <div>
        <div style="font-family:'Bebas Neue',sans-serif;font-size:28px;color:var(--gold);" id="walletAmount">Â£0</div>
        <div style="font-size:11px;color:var(--text-dim);" id="weeklySalaryLabel">Weekly wages: Â£0</div>
      </div>
      <div style="text-align:right;font-size:12px;color:var(--text-dim);">
        <div>ğŸ’° Balance</div>
        <div id="passiveIncomeDisplay" style="color:var(--accent);font-size:11px;"></div>
      </div>
    </div>

    <!-- Training -->
    <div class="section-label">Attribute Training</div>
    <p class="lead" style="margin-bottom:12px;">Spend your earnings to directly boost attributes. Cost rises steeply as stats improve.</p>
    <div class="training-grid" id="trainingGrid"></div>

    <div class="divider"></div>

    <!-- Investments -->
    <div class="section-label">Investments</div>
    <p class="lead" style="margin-bottom:12px;">Buy assets that generate weekly passive income, reducing your dependence on club wages. All returns paid every 7 days.</p>
    <div class="investment-grid" id="investmentGrid"></div>
  </div>

  <!-- â”€â”€ CAREER TAB â”€â”€ -->
  <div class="tab-pane" id="tab-career">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px;">
      <div class="card">
        <div class="section-label">Career Statistics</div>
        <div id="careerStatsGrid"></div>
  <div class="tab-pane" id="tab-casino"><div id="casinoContent"></div></div>
      </div>
      <div class="card">
        <div class="section-label">Achievements</div>
        <div id="achievementsList"></div>
      </div>
    </div>
    <div class="card">
      <div class="section-label">Match History</div>
      <div id="careerMatchHistory" class="log-history" style="max-height:320px;"></div>
    </div>
  </div>

</div><!-- /screen-5 -->

<!-- â•â•â•â• SCREEN 6: HALL OF FAME â•â•â•â• -->
<div class="screen" id="screen-6">
  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;flex-wrap:wrap;gap:12px;">
    <div><div class="logo-wordmark" style="font-size:48px;">Hall of Fame</div><div class="logo-sub">Legendary Careers</div></div>
    <button class="btn btn-secondary" onclick="App.goTo(0)">â† Back to Splash</button>
  </div>
  <div id="hofContent"></div>
</div>

</div><!-- #app -->

<!-- Modal layer -->
<div id="modalLayer" style="display:none;"></div>

<!-- Toast layer -->
<div class="toast-wrap" id="toastWrap"></div>

<!-- Scripts â€” ORDER MATTERS -->
<script src="js/data.js"></script>
<script src="js/engine.js"></script>
<script src="js/state.js"></script>
<script src="js/ui.js"></script>
<script src="js/app.js"></script>

<script>
// Initialise passive income display
setInterval(()=>{
  const el=document.getElementById('passiveIncomeDisplay');
  if(el&&typeof G!=='undefined'&&G.passiveIncome>0)el.textContent=`ğŸ“ˆ +Â£${G.passiveIncome.toLocaleString()}/wk passive`;
},1000);
</script>
</body>
</html>
